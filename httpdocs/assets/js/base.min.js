/*! nathanjamal-portfolio 2016-01-15 - Burgerverse Industries */
function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}function getIndexIfObjWithAttr(array,attr,value){for(var i=0;i<array.length;i++)if(array[i][attr]===value)return i;return-1}function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))}var moduleDelay=.4,pageData={fold:void 0,resizeReInitTO:void 0,modules:[],hiddenModules:[]},isTouch=Modernizr.touch,DOMeles={win:void 0,body:void 0,wrapper:void 0},bowie=["london boy","space oddity","the man who sold the world","hunky dory","the rise and fall of ziggy stardust and the spiders from mars","aladdin sane","pin ups","diamond dogs","david live: at the tower theatre philadelphia","young americans","station to station","low","heroes","stage","lodger","scary monsters","let's dance","tonight","never let me down","black tie white noise","outside","earthling","hours","heathen","reality","the next day","david bowie","tin machine","blackstar"],Page_helper={Init:function(){DOMeles.win=$(window),DOMeles.body=$("body"),DOMeles.wrapper=$("#wrapper"),DOMeles.footer=$("#footer"),pageData.fold=DOMeles.win.height(),$("#footer-spacer").height(DOMeles.footer.outerHeight()),Module.Intro.Init($("#sec-intro")),$("section.section").each(function(){var posT=$(this).offset().top,id=$(this).attr("id"),shouldShow=$(this).offset().top<=pageData.fold+DOMeles.win.scrollTop()||isTouch;pageData.modules.push({id:id,pos:posT,showing:!1}),shouldShow||pageData.hiddenModules.push({id:id,pos:posT}),Module.Init($(this),shouldShow)}),DOMeles.win.scroll(function(){if(!isTouch){var sT=$(this).scrollTop(),hiddenMs=pageData.hiddenModules,fold=pageData.fold+sT;for(i in hiddenMs)hiddenMs[i].pos<=fold&&(Module.Start(hiddenMs[i].id),pageData.hiddenModules.splice(i,1))}}).resize(function(){clearTimeout(pageData.resizeReInitTO),pageData.resizeReInitTO=setTimeout(function(){Page_helper.Kill(!0)},200)})},Start:function(){},Kill:function(restart){Module.Intro.Kill($("#sec-intro")),pageData.modules=[],pageData.hiddenModules=[],DOMeles.win.unbind("scroll"),restart&&Page_helper.Init()}},Module={Init:function(module,startAfter){startAfter&&Module.Start(module)},Start:function(module){"string"==typeof module&&(module=$("#"+module));var showModules=new TimelineLite;showModules.to(module,.15,{autoAlpha:1}),showModules.to(module,.3,{y:0,ease:Power1.easeOut,onComplete:function(){var id=module.attr("id"),index=getIndexIfObjWithAttr(pageData.modules,"id",id);pageData.modules[index].showing=!0,module.removeClass("hide"),"sec-intro"==id?Module.Intro.Init(module,!0):"sec-skills"==id?Module.Skills.Init(module,!0):"sec-work"==id?Module.Work.Init(module,!0):"sec-contact"==id&&Module.Contact.Init(module,!0)}},"-=0.15")},Pause:function(){},Stop:function(){},Kill:function(){},Intro:{Init:function(module,startAfter){module.height(pageData.fold);var hello=module.children("p.largest"),imNathan=module.children("h1");hello.css("padding-top",0);var textH=hello.outerHeight(!0)+imNathan.outerHeight(!0),paddingT=(pageData.fold-textH)/2*.95;hello.css("padding-top",paddingT),startAfter&&Module.Intro.Start(module)},Start:function(module){var introAni=new TimelineLite;introAni.to(module.children("p.largest"),.5,{opacity:1,y:0}),introAni.to(module.children("h1"),.5,{opacity:1,y:0},"+=0.4")},Kill:function(){}},Skills:{Init:function(module,startAfter){startAfter&&Module.Skills.Start(module)},Start:function(module){var skillsAni=new TimelineLite,d=.1;skillsAni.pause(),module.children("ul.skills-grid").children("li").each(function(i){var offset=0==i?"":"-="+d;skillsAni.to($(this),.2,{opacity:1,scale:1,ease:Power2.easeOut},offset)}),skillsAni.play()}},Work:{Init:function(module,startAfter){module.children("ul.work-grid").on({mouseenter:function(){var rO=$(this).children("a.work-hero").children("span.rollover"),workOver=new TimelineLite;workOver.to(rO,.3,{opacity:1,scale:1,ease:Power2.easeOut}),workOver.to(rO.children("span"),.2,{y:0,opacity:1,ease:Power2.easeOut},"-=0.1")},mouseleave:function(){var rO=$(this).children("a.work-hero").children("span.rollover"),workOut=new TimelineLite;workOut.to(rO.children("span"),.2,{y:"20px",opacity:0,ease:Power2.easeOut}),workOut.to(rO,.3,{opacity:0,scale:.7,ease:Power2.easeOut},"-=0.1")}},"li"),startAfter&&Module.Work.Start(module)},Start:function(module){var workAni=new TimelineLite,d=.1;workAni.pause(),module.children("ul.work-grid").children("li").each(function(i){var offset=0==i?"":"-="+d;workAni.to($(this),.3,{opacity:1,scale:1,ease:Power2.easeOut},offset)}),workAni.play()}},Contact:{Init:function(module,startAfter){var form=$("#contact-form");form.on("focus","input, textarea",function(){var $input=$(this);if(""==$input.val()){var $label=$input.siblings("label"),offsetT=$input.is("input")?"-30px":"-34px",offsetL=$input.is("input")?"-2px":"-5px",focusAni=new TimelineLite;$input.is("#form-test")&&(offsetL="-10px"),focusAni.to($label,.1,{opacity:0,onComplete:function(){TweenLite.to($label,0,{scale:.85,x:offsetL})}}),focusAni.to($label,.25,{y:offsetT,opacity:1,color:"#42B69A"})}}).on("blur","input, textarea",function(){var $input=$(this);if(""==$input.val()){var $label=$input.siblings("label"),blurAni=new TimelineLite;blurAni.to($label,.25,{y:0,color:"#BFBEBF",opacity:0,onComplete:function(){TweenLite.to($label,0,{x:0,scale:1})}}),blurAni.to($label,.15,{opacity:1})}}),$("#form-send").click(function(e){e.preventDefault();var formArgs={name:form.find("#form-name").val(),email:form.find("#form-email").val(),msg:form.find("#form-msg").val(),test:form.find("#form-test").val()};Module.Contact.Validate_form(formArgs)}),startAfter&&Module.Contact.Start(module)},Start:function(){},Validate_form:function(formArgs){$("input.error, textarea.error").removeClass("error");var error=!1;return""==formArgs.name&&(error=!0,$("#form-name").addClass("error")),""!=formArgs.email&&validateEmail(formArgs.email)||(error=!0,$("#form-email").addClass("error")),""==formArgs.msg&&(error=!0,$("#form-msg").addClass("error")),(""==formArgs.test||-1==bowie.indexOf(formArgs.test.toLowerCase()))&&(error=!0,$("#form-test").addClass("error")),error?!1:void Module.Contact.Post_form(formArgs)},Post_form:function(formArgs){$.post(window.baseUrl+"contact.php",{"contact-name":formArgs.name,"contact-email":formArgs.email,"contact-message":formArgs.msg},function(){$("#contact-form").children("p.notif").show()})}}};$(document).ready(function(){var initTO=isTouch?500:0;setTimeout(function(){Page_helper.Init()},initTO)});var app=angular.module("nathanApp",[]);app.controller("projectsController",function($scope){$scope.projects=[{id:1,name:"Kindrd",url:"http://kindrd.com/",img:"assets/img/work/kndrd.jpg"},{id:2,name:"Swatch #thisislove (Ran Feb 2015)",url:"http://thisislove.swatch.com/",img:"assets/img/work/swatch.jpg"},{id:3,name:"Fascinating People",url:"http://www.fascinating-people.de/",img:"assets/img/work/pro7.jpg"},{id:4,name:"Lern Helfer",url:"http://www.lernhelfer.de/",img:"assets/img/work/lernhelfer.jpg"},{id:5,name:"FCBinferno",url:"http://www.fcbinferno.com/",img:"assets/img/work/draft.jpg"},{id:6,name:"Lovespace",url:"http://Lovespace.co.uk/",img:"assets/img/work/lovespace.jpg"},{id:7,name:"The Guardian #localshopping",url:"http://www.theguardian.com/lifeandstyle/interactive/2012/dec/08/local-shopping-map-photos-twitter-instagram",img:"assets/img/work/localshopping.jpg"},{id:8,name:"The Guardian #gdngig",url:"http://www.theguardian.com/music/interactive/2012/nov/23/live-music-map-gig-photos-twitter",img:"assets/img/work/gdngig.jpg"},{id:9,name:"The Creative Directory",url:"http://thecreativedirectory.com/",img:"assets/img/work/tcd.jpg"},{id:10,name:"Action for Happines",url:"http://actionforhappiness.org/",img:"assets/img/work/action-for-happiness.jpg"}]});